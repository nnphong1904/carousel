<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="style.css">
    <link
  rel="stylesheet"
  href="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css"
/>
    <title>Document</title>
</head>

<script src="https://unpkg.com/swiper/swiper-bundle.min.js"></script>

<body>
    <button id="show-modal-button" onclick="show_modal();">Press to open modal</button>
    <div id="modal" class="hide">
        <button id="hide-modal-button" onclick="hide_modal();">X</button>   

        <div class="main-wrapper">
          <div class="swiper-container main-slider">
            <div id="video" class="swiper-wrapper">
              
            </div>
          </div>
        </div>

        <div class="thumbs-container">
          <div class="swiper-button-prev swiper-button"></div>
          <div id="preview-container" class="swiper-container swiper-container-thumbs">
            <div id="preview" class="swiper-wrapper">
              
            </div>
          </div>
          <div class="swiper-button-next"></div>
        </div>

    </div>
    <script>
    
    
        const videoList = [
            {url: "https://www.youtube.com/embed/sRNwCJlb59Q", thumbnail: "https://img.youtube.com/vi/sRNwCJlb59Q/0.jpg"},
            {url: "https://www.youtube.com/embed/ATW6RvBbn9o", thumbnail: "https://img.youtube.com/vi/ATW6RvBbn9o/0.jpg"},
            {url: "https://www.youtube.com/embed/rilFfbm7j8k", thumbnail: "https://img.youtube.com/vi/rilFfbm7j8k/0.jpg"},
            {url: "https://www.youtube.com/embed/mP0s5s0i20E", thumbnail: "https://img.youtube.com/vi/mP0s5s0i20E/0.jpg"},
            {url: "https://www.youtube.com/embed/5e1SYt1DEo0", thumbnail: "https://img.youtube.com/vi/5e1SYt1DEo0/0.jpg"},
            {url: "https://www.youtube.com/embed/7aQY67Uzee0", thumbnail: "https://img.youtube.com/vi/7aQY67Uzee0/0.jpg"}
            
        ]


        var swiperThumbs = new Swiper(".swiper-container-thumbs", {
            slidesPerView: 2,
            spaceBetween: 3,
            watchSlidesVisibility: true,
            watchSlidesProgress: true,
            breakpoints: {
              0: { 
                slidesPerView: 2
              },
              767: {
                slidesPerView: 3,
              },
              1024: {
                slidesPerView: 5,
            
              }  
            }
          });
    
          var swiperMain = new Swiper(".main-slider", {
    
            navigation: {
              nextEl: ".swiper-button-next",
              prevEl: ".swiper-button-prev",
            },
            thumbs: {
              swiper: swiperThumbs,
            },
          });
          console.log(swiperThumbs);
        

        // document.getElementById('model').appendChild
        function show_modal() {
            document.getElementById("modal").classList.add("show")
            console.log("Loaded video")
            videoList.forEach(vid => {
                const wrapper = document.createElement("div")
                wrapper.classList.add("swiper-slide")
                const video = document.createElement("iframe")
                video.setAttribute("src", vid.url)
   
                video.setAttribute("frameborder", "0")
                video.setAttribute("allow", "autoplay; fullscreen; picture-in-picture")
                wrapper.appendChild(video)
                document.getElementById("video").appendChild(wrapper)

                const wrapper_preview = document.createElement("div")
                wrapper_preview.classList.add("swiper-slide")
                wrapper_preview.classList.add("thumbs-slides")
                const thumb = document.createElement("img")
                thumb.setAttribute("src", vid.thumbnail)
                wrapper_preview.appendChild(thumb)
                document.getElementById("preview").appendChild(wrapper_preview)
            });
            
        }
        function hide_modal() {
            console.log(document.getElementById("modal").classList)
            document.getElementById("modal").classList.remove("show")
        }
    
    </script>
</body>
</html>